<mat-card>
<form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()">
  <mat-form-field appearance="fill">
    <mat-label>{{"period" | translate}}</mat-label>
    <mat-select formControlName="periodoFactura">
          <mat-option value="M01" aria-label="Enero">{{"january" | translate}}</mat-option>
          <mat-option value="M02" aria-label="Febrero">{{"february" | translate}}</mat-option>
          <mat-option value="M03" aria-label="Marzo">{{"march" | translate}}</mat-option>
          <mat-option value="M04" aria-label="Abril">{{"april" | translate}}</mat-option>
          <mat-option value="M05" aria-label="Mayo">{{"may" | translate}}</mat-option>
          <mat-option value="M06" aria-label="Junio">{{"june" | translate}}</mat-option>
          <mat-option value="M07" aria-label="Julio">{{"july" | translate}}</mat-option>
          <mat-option value="M08" aria-label="Agosto">{{"august" | translate}}</mat-option>
          <mat-option value="M09" aria-label="Setiembre">{{"september" | translate}}</mat-option>
          <mat-option value="M10" aria-label="Octubre">{{"october" | translate}}</mat-option>
          <mat-option value="M11" aria-label="Noviembre">{{"november" | translate}}</mat-option>
          <mat-option value="M12" aria-label="Diciembre">{{"december" | translate}}</mat-option>
    </mat-select>
  </mat-form-field>
  <section ngClass="type-fuel-quantity">
  <mat-form-field appearance="fill">
    <mat-label>Categoría de vehículo{{"vehicleCategory" | translate}}</mat-label>
    <mat-select formControlName="equipmentType" (selectionChange)="setFuelTypes()">
      <mat-option *ngFor="let category of vehicleCategories" [value]="category">{{ category.Categoria }}</mat-option>
    </mat-select>
    <mat-error *ngIf="vehicleForm.get('equipmentType')?.invalid">Campo obligatorio</mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Combustible o lubricante{{"fuelOrLubricant" | translate}}</mat-label>
    <mat-select formControlName="fuelType" (selectionChange)="setEmissionFactors()">
      <mat-option *ngFor="let fuel of fuelTypes" [value]="fuel">{{ fuel.FuelType }}</mat-option>
    </mat-select>
    <mat-error *ngIf="vehicleForm.get('fuelType')?.invalid">Campo obligatorio</mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Dato de actividad (ud){{"activityData" | translate}}</mat-label>
    <input matInput type="number" formControlName="activityData" >
    <mat-error *ngIf="vehicleForm.get('activityData')?.invalid">Campo obligatorio y debe ser un número</mat-error>
  </mat-form-field>
</section>
<h3>Factores de Emisión por gases{{"emissionFactorsByGas" | translate}}</h3>
  <section formGroupName="defaultEmissionFactor" ngClass="factor-group">
    <mat-form-field appearance="fill">
      <mat-label>[kg CO2/ud]</mat-label>
      <input matInput formControlName="co2" ngClass="gas-emission">
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>[g CH4/ud]</mat-label>
      <input matInput formControlName="ch4" ngClass="gas-emission">
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>[g N2O/ud]</mat-label>
      <input matInput formControlName="n2o" ngClass="gas-emission">
    </mat-form-field>
  </section>

  <h3>Emisiones Parciales{{"partialEmissions" | translate}}</h3>
  <section formGroupName="partialEmissions" ngClass="emissions-group">
    <mat-form-field appearance="fill">
      <mat-label>Emisiones parciales {{"partialEmissions" | translate}}(kg CO2)</mat-label>
      <input matInput formControlName="co2" ngClass="gas-emission">
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Emisiones parciales {{"partialEmissions" | translate}}(g CH4)</mat-label>
      <input matInput formControlName="ch4" ngClass="gas-emission">
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Emisiones parciales {{"partialEmissions" | translate}}(g N2O)</mat-label>
      <input matInput formControlName="n2o" ngClass="gas-emission">
    </mat-form-field>
  </section>

  <h3>Emisiones Totales {{"totalEmissions" | translate}}(tnCO<sub>2</sub>eq) [CO<sub>2</sub>eq: CO<sub>2</sub>+CH<sub>4</sub>+N<sub>2</sub>O]</h3>
  <mat-form-field>
    <mat-label>(tnCO<sub>2</sub>eq)</mat-label>
    <input matInput formControlName="totalEmissions" ngClass="gas-emission tnCo2eq">
  </mat-form-field>
  <button mat-raised-button color="accent" type="submit" [disabled]="!vehicleForm.valid">Registrar{{"register" | translate}}</button>
</form>
<app-data-table [displayedColumns]="displayedColumns" [dataSource]="dataSource"></app-data-table>
</mat-card>