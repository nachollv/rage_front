<mat-card>
<form [formGroup]="organizationForm" (ngSubmit)="onSubmit()">
  <mat-form-field appearance="fill">
    <mat-label>REF.</mat-label>
    <input matInput formControlName="id">
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="companyName">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>cif</mat-label>
    <input matInput formControlName="cif" minlength="9" maxlength="9">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Tipo de organización</mat-label>
    <mat-select formControlName="organizationType">
      <mat-option *ngFor="let type of organizationTypes" [value]="type.id">
        {{ type.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  

  <mat-form-field appearance="fill">
    <mat-label>Sector</mat-label>
    <mat-select formControlName="cnae">
      <mat-option *ngFor="let sector of sectors" [value]="sector">
        {{ sector }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <section ngClass="limites-organizacion">
    <mat-label>Límites de la organización</mat-label>
    <mat-checkbox (change)="onMultipleOrgChange($event)" formControlName="multipleProductionCenter">Más de un Centro de Producción</mat-checkbox>
    <section>
      <h4>Seleccionar los años de cálculo permitidos:</h4>
      <mat-form-field appearance="fill" formControlName="activityYear" class="form-field">
        <mat-label>Seleccione uno o varios años</mat-label>
        <mat-select [(value)]="selectedYears" [compareWith]="compareYears" multiple>
          <mat-option *ngFor="let year of availableYears" [value]="year.id">
            {{ year.year }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </section>
    <section>
      <h4>Años que se han permitido para el registro de actividad:</h4>
      <ul>
        <li *ngFor="let year of selectedYears">
          {{ year.year }}
        </li>
      </ul>
    </section>
  </section>
  <mat-form-field appearance="fill">
    <mat-label>zipCode</mat-label>
    <input matInput formControlName="zipCode" minlength="5" maxlength="5">
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Email usuario administrador</mat-label>
    <input matInput formControlName="email">
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Mínima validez de la contraseña de los usuarios [por seguridad]</mat-label>
        <mat-select formControlName="daysPasswordDuration">
          <mat-option value="30">30 días</mat-option>
          <mat-option value="45">30 días</mat-option>
          <mat-option value="60">30 días</mat-option>
          <mat-option value="75">30 días</mat-option>
        </mat-select>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Se creó el</mat-label>
    <input matInput formControlName="created_at">
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Se actualizó el</mat-label>
    <input matInput formControlName="updated_at">
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Se eliminó el</mat-label>
    <input matInput formControlName="deleted_at">
  </mat-form-field>
  <button mat-raised-button color="primary" type="submit" [disabled]="organizationForm.invalid">Enviar</button>
</form>
</mat-card>

<section  *ngIf="mustShowDelegations">
  <button mat-raised-button color="accent">ADD PRODUCTION CENTER</button>
  <app-data-table [displayedColumns]="displayedColumns" [dataSource]="dataSource"></app-data-table>
</section>
